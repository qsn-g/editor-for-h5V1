webpackJsonp([1],{0:function(t,e){},1:function(t,e){},"1T+f":function(t,e){},2:function(t,e){},"4Zox":function(t,e){},"4cbw":function(t,e){},"6Whf":function(t,e,n){"use strict";var i=n("Dd8w"),s=n.n(i),a=n("NYxO"),o=n("Lxn6");e.a={props:["cJson"],data:function(){return{configVisible:!1,isFocus:!1,id:"",struct:{name:"",id:"",options:{},childNodes:[]}}},computed:{isEditor:function(){return"getWebUI"!==this.$route.name}},beforeMount:function(){this.insertComponent(this),this.cJson&&this.cJson.id?(this.id=this.cJson.id,Object(o.b)(this.cJson,this),this.cJson.childNodes&&(this.childNodes=this.cJson.childNodes)):(this.id=Object(o.h)(this.$store.state.allWebJson),this.struct=Object(o.f)(this),this.childNodes=this.struct.childNodes,Object(o.a)(this.struct))},methods:s()({},Object(a.b)(["insertComponent","funToWJ"]))}},"7EnE":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Gu7T"),s=n.n(i),a=n("6Whf"),o=n("Lxn6"),r={name:"Jmenu",mixins:[a.a],data:function(){return{name:"Jmenu",uData:!1,addName:"",addLink:"",setValue:{mode:!1,bgColor:"",textColor:"",activeColor:"#409eff",linkData:[]},oldValue:{},jumpTo:o.g}},beforeMount:function(){this.struct.options.menuValue||(this.struct.options.menuValue={mode:!1,bgColor:"",textColor:"",activeColor:"#409eff",linkData:[]}),this.setValue=this.copyStruct()},methods:{copyStruct:function(){var t=this.struct.options.menuValue;return{mode:t.mode,bgColor:t.bgColor,textColor:t.textColor,activeColor:t.activeColor,linkData:[].concat(s()(t.linkData))}},modifyData:function(t,e,n){var i=e.target.innerText;t[n]=i},onSave:function(){this.struct.options.menuValue=this.setValue,this.setValue=this.copyStruct(),this.configVisible=!1},onCancel:function(){this.setValue=this.copyStruct(),this.configVisible=!1},deleteMenu:function(t,e){e.splice(t,1)},addMenu:function(){this.setValue.linkData.push({value:this.addName,link:this.addLink}),this.addName="",this.addLink=""}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Jdiv",{staticClass:"j-menu",class:{"is-focus":t.isFocus&&t.isEditor},style:t.struct.options.style,attrs:{id:t.id}},[n("template",{slot:"input"},[n("el-menu",{attrs:{"background-color":t.struct.options.menuValue.bgColor,"text-color":t.struct.options.menuValue.textColor,"active-text-color":t.struct.options.menuValue.activeColor,mode:t.struct.options.menuValue.mode?"horizontal":"vertical"}},t._l(t.struct.options.menuValue.linkData,function(e){return n("el-menu-item",{key:e.id,on:{click:function(n){return t.jumpTo(e.link)}}},[t._v(t._s(e.value))])}),1),t._v(" "),t.configVisible?n("el-dialog",{attrs:{title:"设置菜单",visible:t.configVisible},on:{"update:visible":function(e){t.configVisible=e}}},[n("div",{staticClass:"select-model"},[n("span",[t._v("选择模式:")]),t._v(" "),n("el-switch",{attrs:{"inactive-color":"#13ce66","active-text":"水平","inactive-text":"垂直"},model:{value:t.setValue.mode,callback:function(e){t.$set(t.setValue,"mode",e)},expression:"setValue.mode"}})],1),t._v(" "),n("div",{staticClass:"select-color"},[n("span",[t._v("选择背景色:")]),t._v(" "),n("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.setValue.bgColor,callback:function(e){t.$set(t.setValue,"bgColor",e)},expression:"setValue.bgColor"}}),t._v(" "),n("span",[t._v("选择文字色:")]),t._v(" "),n("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.setValue.textColor,callback:function(e){t.$set(t.setValue,"textColor",e)},expression:"setValue.textColor"}}),t._v(" "),n("span",[t._v("选择活跃色:")]),t._v(" "),n("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.setValue.activeColor,callback:function(e){t.$set(t.setValue,"activeColor",e)},expression:"setValue.activeColor"}})],1),t._v(" "),n("div",{attrs:{"link-area":""}},[n("el-table",{attrs:{border:"",data:t.setValue.linkData}},[n("el-table-column",{attrs:{label:"按钮名称"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("label",{attrs:{contenteditable:t.uData},on:{dblclick:function(e){t.uData=!0},blur:function(e){return t.modifyData(i,e,"value")}}},[t._v(t._s(i.value))])]}}],null,!1,2565872719)}),t._v(" "),n("el-table-column",{attrs:{label:"链接地址"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("label",{attrs:{contenteditable:t.uData},on:{dblclick:function(e){t.uData=!0},blur:function(e){return t.modifyData(i,e,"link")}}},[t._v(t._s(i.link))])]}}],null,!1,654872047)}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.deleteMenu(e.$index,t.setValue.linkData)}}},[t._v("删除")])]}}],null,!1,109340628)})],1)],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("div",{staticClass:"new-area"},[n("el-input",{attrs:{size:"small",placeholder:"请输入导航名"},model:{value:t.addName,callback:function(e){t.addName=e},expression:"addName"}}),t._v(" "),n("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"请输入链接"},model:{value:t.addLink,callback:function(e){t.addLink=e},expression:"addLink"}}),t._v(" "),n("el-button",{attrs:{size:"small",type:"info"},on:{click:t.addMenu}},[t._v("添加")])],1),t._v(" "),n("el-button",{attrs:{size:"small"},on:{click:t.onCancel}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onSave}},[t._v("保存")])],1)]):t._e()],1)],2)},staticRenderFns:[]};var l=n("VU/8")(r,c,!1,function(t){n("YvjB")},"data-v-66b65ee4",null);e.default=l.exports},FB6w:function(t,e){},Joq8:function(t,e){},K8cs:function(t,e,n){var i={"./Jcard.vue":"Xh2i","./Jcarousel.vue":"xTiN","./Jcontainer.vue":"knN9","./Jimage.vue":"inX5","./Jmenu.vue":"7EnE","./Jtable.vue":"pz0G"};function s(t){return n(a(t))}function a(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}s.keys=function(){return Object.keys(i)},s.resolve=a,t.exports=s,s.id="K8cs"},Lxn6:function(t,e,n){"use strict";n.d(e,"j",function(){return o}),n.d(e,"h",function(){return r}),n.d(e,"e",function(){return c}),n.d(e,"b",function(){return d}),n.d(e,"f",function(){return f}),n.d(e,"a",function(){return p}),n.d(e,"d",function(){return l}),n.d(e,"c",function(){return u}),n.d(e,"i",function(){return v}),n.d(e,"g",function(){return m});var i=n("NfQX"),s=n.n(i),a=n("UjCS"),o=function(t){var e=new Date(t);return e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日 "+e.getHours()+":"+(e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes())},r=function t(e){var n=e||[],i=s()();return n.find(function(t){return t.id===i})&&(i=t(e)),i},c=function(t){var e={};return t.keys().map(t).forEach(function(t){e[t.default.name]=t.default}),e},l=function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.a.state.webJson;if(i.id===e)return n(i),!0;i.childNodes&&i.childNodes.some(function(i){return t(e,n,i)})},u=function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.a.state.webJson;if(i.childNodes&&i.childNodes.some(function(t){return t.id===e}))return n(i),!0;i.childNodes&&i.childNodes.some(function(i){return t(e,n,i)})},d=function(t,e){e.$data.struct=t},f=function(t){var e={name:t.name,id:t.id,options:{style:{}}};return"Jcontainer"===t.name&&(e.childNodes=[]),e},p=function(t){if(a.a.state.webJson.id){var e=a.a.state.focusElem,n=a.a.state.componentList;!function t(e,n,i){if(e.id===n)return e.childNodes.push(i),!0;e.childNodes&&e.childNodes.some(function(e){return t(e,n,i)})}(a.a.state.webJson,e.id,t),u(t.id,function(t){t.childNodes.some(function(e,n){return!e.id&&(t.childNodes.splice(n,1),!0)})}),n.some(function(t,e){return!t.cJson.id&&(n.splice(e,1),!0)})}else a.a.state.webJson=t},v=function t(e){e.childNodes&&e.childNodes.forEach(function(e){t(e)});var n=a.a.state.componentList;n.some(function(t,i){return t.id===e.id&&(n.splice(i,1),!0)})},m=function(t){window.open(t)}},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s=n("zL8q"),a=n.n(s),o=(n("tvR6"),{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"menuBar"}},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:!0,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",collapse:t.isCollapse},on:{select:t.toggle}},t._l(t.menuList,function(e){return n("el-menu-item",{key:e.index,attrs:{index:e.index}},[n("i",{class:e.class}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.label))])])}),1)],1)},staticRenderFns:[]});var r={name:"App",components:{menuBar:n("VU/8")({data:function(){return{isCollapse:!0,menuList:[{index:"",label:"JWeb",class:"el-icon-menu"},{index:"/introduce",label:"使用说明",class:"el-icon-info"},{index:"/webTable",label:"查看网页",class:"el-icon-search"},{index:"/createWeb",label:"生成网页",class:"el-icon-refresh"}]}},methods:{toggle:function(t){""===t&&(this.isCollapse=!this.isCollapse)}}},o,!1,function(t){n("FB6w")},"data-v-7c54f7a2",null).exports},computed:{isPreview:function(){return"getWebUI"!==this.$route.name}}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this.isPreview?e("menuBar"):this._e(),this._v(" "),e("router-view",{staticClass:"rightBar"})],1)},staticRenderFns:[]};var l=n("VU/8")(r,c,!1,function(t){n("r6+K")},"data-v-60032cfe",null).exports,u=n("UjCS"),d=n("/ocq"),f=n("Xxa5"),p=n.n(f),v=n("exGp"),m=n.n(v),h=n("Dd8w"),b=n.n(h),g=n("fZjL"),_=n.n(g),x=n("NYxO"),w=n("mtWM"),y=n.n(w),k=function(t){var e=t.url,n=t.data;return y.a.post("/jpi/webEditor"+e,n)},V=new i.default,C=n("V142"),J=n("Lxn6"),L=n("vCyS"),E=n.n(L),N=n("K8cs"),j=Object(J.e)(N);_()(j).forEach(function(t){i.default.component(t,j[t])});var S={name:"editor",data:function(){return{id:"",drawer:!1,dialogFormVisible:!1,plugins:j,pluginsName:E.a,cJson:{}}},beforeMount:function(){var t=this.$route.params,e=t._id,n=t.webName,i=t.webJson;e||n?(this.id=e,this.cJson=i,this.$store.state.webJson=i,this.mouseMove(),this.initEventBus()):this.$router.push({name:"webTable"})},beforeDestroy:function(){document.onmousemove=null,this.resetFocus(),this.resetWebJson(),this.resetComponents(),this.removeEventBus()},methods:b()({},Object(x.b)(["resetFocus","resetComponents","resetWebJson","setFocus"]),{layout:function(t){var e=this.$store.state.focusElem.id,n=void 0;if(Object(J.d)(e,function(t){n=t}),1===t)n.options.style["flex-direction"]="column";else if(2===t)n.options.style["flex-direction"]="row";else if(3===t)try{if(!e)return void Object(C.a)("请选择子组件");var i=null;Object(J.c)(e,function(t){i=t.id});var s=this.$store.state.componentList.find(function(t){return t.id===i});this.setFocus(s)}catch(t){Object(C.a)("该组件没有父组件"),this.resetFocus()}},addPlugin:function(t){var e={name:t},n=this.$store.state.focusElem;n.id&&n.struct.childNodes?n.childNodes.push(e):Object(C.a)("该组件无法添加子组件")},deletePlugin:function(){var t=this,e=this.$store.state.focusElem;e.id?Object(J.c)(e.id,function(n){var i=-1,s=e.id;n.childNodes.some(function(t,e){return t.id===s&&(i=e,!0)});var a=n.childNodes.splice(i,1);Object(J.i)(a[0]),t.resetFocus()}):Object(C.a)("请选择正确组件")},changeSize:function(t){var e=this.$store.state.focusElem;if(e.id){var n=Number(e.struct.options.style.flex)||1,i=t+n>0?t+n:1;e.struct.options.style.flex=""+i}else Object(C.a)("请选择组件")},mouseMove:function(){var t=this;document.onmousemove=function(e){e.clientX+10>=window.innerWidth?t.drawer=!0:e.clientX+400<window.innerWidth&&(t.drawer=!1)},document.oncontextmenu=function(e){t.resetFocus(),e.preventDefault()}},initEventBus:function(){V.$on("openDialog",this.openDialog)},removeEventBus:function(){V.$off("openDialog",this.openDialog)},propConfig:function(){var t=this.$store.state.focusElem;t.id?t.configVisible=!0:Object(C.a)("请选择正确组件")},createPage:function(){var t=this;return m()(p.a.mark(function e(){var n,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$route.params.webName,e.next=3,k({url:"/newEditor",data:{webName:n}});case 3:return i=e.sent,e.abrupt("return",i.data._id);case 5:case"end":return e.stop()}},e,t)}))()},saveWj:function(){var t=this;return m()(p.a.mark(function e(){var n,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.id){e.next=5;break}return e.next=4,t.createPage();case 4:t.id=e.sent;case 5:return n=t.$store.state.webJson,e.next=8,k({url:"/saveWj",data:{webJson:n,id:t.id}});case 8:i=e.sent,Object(C.b)(i.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),Object(C.a)(e.t0);case 15:case"end":return e.stop()}},e,t,[[0,12]])}))()}})},O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor"},[n("el-drawer",{attrs:{title:"工具栏",size:"18%","append-to-body":!0,visible:t.drawer,direction:"rtl"},on:{"update:visible":function(e){t.drawer=e}}},[n("div",{staticClass:"content"},[n("h4",[t._v("当前焦点: "+t._s(t.$store.state.focusElem.id?"已聚焦":"无"))]),t._v(" "),n("el-row",[n("span",[t._v("选择布局:")]),t._v(" "),n("span",{staticClass:"button-area"},[n("el-button",{attrs:{type:"primary",circle:"",icon:"el-icon-caret-bottom",size:"mini"},on:{click:function(e){return t.layout(1)}}}),t._v(" "),n("el-button",{attrs:{type:"primary",circle:"",icon:"el-icon-caret-right",size:"mini"},on:{click:function(e){return t.layout(2)}}}),t._v(" "),n("el-button",{attrs:{type:"primary",circle:"",size:"mini"},on:{click:function(e){return t.layout(3)}}},[t._v("父")])],1)]),t._v(" "),n("el-row",[n("span",[t._v("通用按钮:")]),t._v(" "),n("span",{staticClass:"button-area"},[n("el-button",{attrs:{type:"info",circle:"",size:"mini",icon:"el-icon-s-tools"},on:{click:t.propConfig}}),t._v(" "),n("el-button",{attrs:{type:"info",icon:"el-icon-delete",size:"mini",circle:""},on:{click:t.deletePlugin}})],1)]),t._v(" "),n("el-row",[n("span",[t._v("比例按钮:")]),t._v(" "),n("span",{staticClass:"button-area"},[n("el-button",{attrs:{type:"success",size:"mini",circle:"",icon:"el-icon-plus"},on:{click:function(e){return t.changeSize(1)}}}),t._v(" "),n("el-button",{attrs:{type:"success",size:"mini",circle:"",icon:"el-icon-minus"},on:{click:function(e){return t.changeSize(-1)}}})],1)]),t._v(" "),n("el-row",{staticStyle:{"flex-direction":"column","align-items":"flex-start"}},[n("span",[t._v("组件库:")]),t._v(" "),n("span",{staticClass:"component-button"},t._l(t.plugins,function(e){return n("el-button",{key:e.id,attrs:{round:"",size:"small",type:"warning"},on:{click:function(n){return t.addPlugin(e.name)}}},[t._v(t._s(t.pluginsName[e.name]))])}),1)]),t._v(" "),n("el-button",{staticClass:"upload",attrs:{type:"info",circle:"",icon:"el-icon-upload"},on:{click:t.saveWj}})],1)]),t._v(" "),n("el-row",{attrs:{id:"workSpace"}},[n("Jcontainer",{attrs:{cJson:t.cJson}})],1)],1)},staticRenderFns:[]};var $=n("VU/8")(S,O,!1,function(t){n("Joq8")},"data-v-c5a28028",null).exports,U={data:function(){return{webList:[],uName:!1,loading:!1}},beforeMount:function(){this.getPageList()},methods:{getPageList:function(){var t=this;return m()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,k({url:"/getPageList"});case 4:e.sent.data.forEach(function(e){t.webList.push(b()({},e,{date:Object(J.j)(e.mTime)}))}),t.loading=!1,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),Object(C.a)("网络出错"),t.loading=!1;case 13:case"end":return e.stop()}},e,t,[[1,9]])}))()},newEditor:function(t){var e=this;return m()(p.a.mark(function n(){var i,s,a,o;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t._id,s=t.webName,a={},!i){n.next=7;break}return n.next=5,k({url:"/getPageData",data:{_id:i}});case 5:o=n.sent,a=o.data;case 7:e.loading=!0,e.$router.push({name:"webEditor",params:{_id:i,webName:s,webJson:a}});case 9:case"end":return n.stop()}},n,e)}))()},updateName:function(t,e){var n=this;return m()(p.a.mark(function i(){var s,a,o;return p.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(n.uName=!1,i.prev=1,s=t.target.innerText,a=e.webName,/\S/.test(s)){i.next=8;break}return Object(C.a)("必须输入字符"),t.target.innerText=a,i.abrupt("return");case 8:if(s!==a){i.next=10;break}return i.abrupt("return");case 10:return e.webName=s,i.next=13,k({url:"/updateName",data:{webId:e._id,webName:e.webName}});case 13:o=i.sent,Object(C.b)(o.data),i.next=20;break;case 17:i.prev=17,i.t0=i.catch(1),Object(C.a)(i.t0);case 20:case"end":return i.stop()}},i,n,[[1,17]])}))()},deletePage:function(t){var e=this;return m()(p.a.mark(function n(){var i,s;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k({url:"/removeWeb",data:{webId:t}});case 2:i=n.sent,s=e.webList.indexOf(e.webList.find(function(e){return e._id===t})),e.webList.splice(s,1),Object(C.b)(i.data);case 6:case"end":return n.stop()}},n,e)}))()}}},F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{id:"webTable"}},[n("el-row",{staticClass:"buttonList"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"medium",circle:""},on:{click:function(e){return t.newEditor({webName:"新建编辑"})}}})],1),t._v(" "),n("el-row",{staticClass:"table"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.webList,"default-sort":{prop:"date",order:"descending"}}},[n("el-table-column",{attrs:{type:"index"}}),t._v(" "),n("el-table-column",{attrs:{label:"页面id"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("span",{staticStyle:{"user-select":"text"}},[t._v(t._s(i._id))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"更新时间",prop:"date",sortable:""}}),t._v(" "),n("el-table-column",{attrs:{label:"网页名称",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("label",{attrs:{contenteditable:t.uName},on:{dblclick:function(){t.uName=!0},blur:function(n){return t.updateName(n,e.row)}}},[t._v(t._s(e.row.webName))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{circle:"",type:"primary",icon:"el-icon-edit"},on:{click:function(n){return t.newEditor(e.row)}}}),t._v(" "),n("el-button",{attrs:{circle:"",type:"danger",icon:"el-icon-delete"},on:{click:function(n){return t.deletePage(e.row._id)}}})]}}])})],1)],1)],1)},staticRenderFns:[]};var T=n("VU/8")(U,F,!1,function(t){n("1T+f")},"data-v-41197c73",null).exports,z={data:function(){return{loading:!1,cJson:{}}},beforeMount:function(){var t=this;return m()(p.a.mark(function e(){var n,i,s,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=location,i=n.hash,!(s=t.getId(i))){e.next=9;break}return e.next=5,k({url:"/getPageData",data:{_id:s}});case 5:-1===(a=e.sent).data&&Object(C.a)("无该编辑页面"),t.cJson=a.data,t.loading=!0;case 9:case"end":return e.stop()}},e,t)}))()},methods:{getId:function(t){if(t.indexOf("id")<0)return!1;var e=t.indexOf("id=");return e<0?(Object(C.a)("请输入正确参数"),!1):t.slice(e+3)}}},W={render:function(){var t=this.$createElement,e=this._self._c||t;return this.loading?e("Jcontainer",{directives:[{name:"loading",rawName:"v-loading",value:!this.loading,expression:"!loading"}],attrs:{cJson:this.cJson}}):this._e()},staticRenderFns:[]};var D=n("VU/8")(z,W,!1,function(t){n("Qmpb")},null,null).exports,M={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var P=n("VU/8")({},M,!1,function(t){n("UTv5")},"data-v-fe6a3f7c",null).exports,R={data:function(){return{input:"",result:""}},methods:{createWeb:function(){if(!this.input||!/^\w+$/.test(this.input))return Object(C.c)("请输入正确页面id"),void(this.loading=!1);var t=location.origin;this.result=t+"/#/getWebUI?id="+this.input}}},A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"input-id"},[n("el-input",{attrs:{placeholder:"请输入生成页面id"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("页面id")]),t._v(" "),n("el-button",{attrs:{slot:"append"},on:{click:t.createWeb},slot:"append"},[n("i",{staticClass:"el-icon-refresh"}),t._v("\n                生成\n            ")])],1)],1),t._v(" "),n("div",{staticClass:"result-link"},[n("span",[t._v("页面链接:")]),t._v(" "),n("el-link",{attrs:{href:t.result,target:"_blank"}},[t._v(t._s(t.result))])],1)])},staticRenderFns:[]};var I=n("VU/8")(R,A,!1,function(t){n("zOA5")},"data-v-8b1a1818",null).exports;i.default.use(d.a);var B=new d.a({routes:[{component:T,path:"/webTable",name:"webTable"},{component:$,path:"/webEditor",name:"webEditor"},{component:D,path:"/getWebUI",name:"getWebUI"},{component:I,path:"/createWeb",name:"createWeb"},{component:P,path:"/introduce",name:"introduce"}]}),X={name:"Jdiv",methods:b()({},Object(x.b)(["setFocus"]),{focus:function(t){var e=t.target.id,n=this.$store.state.componentList.find(function(t){return t.id===e});this.setFocus(n),t.stopPropagation()}})},H={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"Jdiv",attrs:{tabindex:"-1"},on:{focus:this.focus}},[this._t("input")],2)},staticRenderFns:[]};var q=n("VU/8")(X,H,!1,function(t){n("4cbw")},"data-v-7bd675ae",null).exports;i.default.use(a.a),i.default.config.productionTip=!1,i.default.component("Jdiv",q),new i.default({el:"#app",store:u.a,router:B,components:{App:l},template:"<App/>"})},OTf9:function(t,e){},Qmpb:function(t,e){},UTv5:function(t,e){},UjCS:function(t,e,n){"use strict";var i=n("7+uW"),s=n("NYxO");i.default.use(s.a),e.a=new s.a.Store({state:{componentList:[],focusElem:{},webJson:{}},mutations:{resetWebJson:function(t){t.webJson={}},insertComponent:function(t,e){t.componentList.push(e)},resetComponents:function(t){t.componentList=[]},setFocus:function(t,e){t.componentList.forEach(function(t){t.isFocus=!1}),e.isFocus=!0,t.focusElem=e},resetFocus:function(t){t.componentList.forEach(function(t){t.isFocus=!1}),t.focusElem={}}},actions:{resetWebJson:function(t){(0,t.commit)("resetWebJson")},resetComponents:function(t){(0,t.commit)("resetComponents")},insertComponent:function(t,e){(0,t.commit)("insertComponent",e)},setFocus:function(t,e){(0,t.commit)("setFocus",e)},resetFocus:function(t){(0,t.commit)("resetFocus")}}})},V142:function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return o});var i=n("zL8q"),s=(n.n(i),function(t){Object(i.Message)({message:t,duration:1500,showClose:!0,type:"warning"})}),a=function(t){Object(i.Message)({message:t,duration:1500,showClose:!0,type:"error"})},o=function(t){Object(i.Message)({message:t,duration:1500,showClose:!0,type:"success"})}},Xh2i:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Xxa5"),s=n.n(i),a=n("exGp"),o=n.n(a),r=n("Dd8w"),c=n.n(r),l=n("6Whf"),u=n("Lxn6"),d=n("+Fy3"),f={name:"Jcard",mixins:[l.a],data:function(){return{name:"Jcard",jumpTo:u.g,setValue:{imgUrl:"",textArea:"",btLink:"",btText:"",cardText:""}}},beforeMount:function(){this.struct.options.cardValue||(this.struct.options.cardValue={imgUrl:"",textArr:[],btLink:"",btText:"",cardText:""}),this.setValue=c()({},this.struct.options.cardValue)},methods:{uploadPir:function(t){var e=this;return o()(s.a.mark(function n(){var i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.file,e.next=3,Object(d.JuploadImg)(i).sougou();case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},n,e)}))()},handleSuccess:function(t){try{if(!t.data.imgurl)throw Error("请重试");this.setValue.imgUrl=t.data.imgurl}catch(t){this.$message.error(""+t)}},handleError:function(t){this.$message.error(""+t)},onSave:function(){this.configVisible=!1,this.struct.options.cardValue=c()({},this.setValue)},onCancel:function(){this.configVisible=!1,this.setValue=c()({},this.struct.options.cardValue)}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Jdiv",{staticClass:"j-card",class:{"is-focus":t.isFocus&&t.isEditor},style:t.struct.options.style,attrs:{id:t.id}},[n("template",{slot:"input"},[n("el-card",[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",[t._v(t._s(t.struct.options.cardValue.cardText||"默认卡片"))]),t._v(" "),t.struct.options.cardValue.btLink?n("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){return t.jumpTo(t.struct.options.cardValue.btLink)}}},[t._v(t._s(t.struct.options.cardValue.btText||"默认按钮"))]):t._e()],1),t._v(" "),t.struct.options.cardValue.imgUrl?n("img",{attrs:{src:t.struct.options.cardValue.imgUrl}}):t._e(),t._v(" "),t.struct.options.cardValue.textArea?n("label",{staticClass:"card-write"},[t._v(t._s(t.struct.options.cardValue.textArea))]):t._e()]),t._v(" "),t.configVisible?n("el-dialog",{attrs:{title:"设置卡片",visible:t.configVisible},on:{"update:visible":function(e){t.configVisible=e}}},[n("div",{staticClass:"header-area"},[n("el-input",{attrs:{placeholder:"输入卡片名"},model:{value:t.setValue.cardText,callback:function(e){t.$set(t.setValue,"cardText",e)},expression:"setValue.cardText"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("输入卡片名:")])]),t._v(" "),n("el-input",{attrs:{placeholder:"输入按钮名"},model:{value:t.setValue.btText,callback:function(e){t.$set(t.setValue,"btText",e)},expression:"setValue.btText"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("输入按钮名:")])])],1),t._v(" "),n("div",{staticClass:"link-area"},[n("el-input",{attrs:{placeholder:"若按钮链接为空, 按钮不会显示"},model:{value:t.setValue.btLink,callback:function(e){t.$set(t.setValue,"btLink",e)},expression:"setValue.btLink"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("请输入按钮链接:")])])],1),t._v(" "),n("div",{staticClass:"img-area"},[n("span",[t._v("上传图片:")]),t._v(" "),n("el-upload",{staticClass:"el-upload-out",attrs:{action:"","http-request":t.uploadPir,"on-success":t.handleSuccess,"on-error":t.handleError,"show-file-list":!1}},[t.setValue.imgUrl?n("img",{staticClass:"avatar",attrs:{src:t.setValue.imgUrl}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(e){t.setValue.imgUrl=""}}},[t._v("清除图片")])],1),t._v(" "),n("div",{staticClass:"text-area"},[n("el-input",{attrs:{placeholder:"请输入文本内容",type:"textarea",autosize:""},model:{value:t.setValue.textArea,callback:function(e){t.$set(t.setValue,"textArea",e)},expression:"setValue.textArea"}})],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:t.onCancel}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onSave}},[t._v("保存")])],1)]):t._e()],1)],2)},staticRenderFns:[]};var v=n("VU/8")(f,p,!1,function(t){n("4Zox")},null,null);e.default=v.exports},"YL+J":function(t,e){},YvjB:function(t,e){},Z3er:function(t,e){},a1ul:function(t,e){},inX5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Xxa5"),s=n.n(i),a=n("exGp"),o=n.n(a),r=n("Gu7T"),c=n.n(r),l=n("6Whf"),u=n("+Fy3"),d=n("u4Bf"),f=n.n(d),p={name:"Jimage",mixins:[l.a],components:{vd:f.a},data:function(){return{name:"Jimage",coverUrl:"",imageUrlList:[],deleteList:[],oldDeleteList:[],oldImageUrlList:[]}},watch:{configVisible:function(t){t&&(this.oldDeleteList=[].concat(c()(this.deleteList)),this.oldImageUrlList=[].concat(c()(this.imageUrlList)))}},beforeMount:function(){Array.isArray(this.struct.options.imgList)||(this.struct.options.imgList=[]),this.imageUrlList=[].concat(c()(this.struct.options.imgList))},methods:{uploadPir:function(t){var e=this;return o()(s.a.mark(function n(){var i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.file,e.next=3,Object(u.JuploadImg)(i).ali();case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},n,e)}))()},handleSuccess:function(t,e,n){try{this.imageUrlList.push(t.data.imgurl)}catch(t){this.$message.error("请重试");var i=n.indexOf(e);n.splice(i,1)}},handleError:function(t){this.$message.error(""+t)},onSave:function(){this.struct.options.imgList=[].concat(c()(this.imageUrlList)),this.configVisible=!1},onCancel:function(){this.configVisible=!1,this.deleteList=[].concat(c()(this.oldDeleteList)),this.imageUrlList=[].concat(c()(this.oldImageUrlList)),this.oldDeleteList=[],this.oldImageUrlList=[]}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Jdiv",{staticClass:"j-image",class:{"is-focus":t.isFocus&&t.isEditor},style:t.struct.options.style,attrs:{id:t.id}},[n("template",{slot:"input"},[n("el-image",{attrs:{src:t.struct.options.imgList[0]||"","preview-src-list":t.struct.options.imgList}}),t._v(" "),t.configVisible?n("el-dialog",{attrs:{title:"设置图片",visible:t.configVisible},on:{"update:visible":function(e){t.configVisible=e}}},[n("div",{staticClass:"preview-area"},[n("i",{staticClass:"el-icon-plus"},[t._v("添加图片 (第一张图将作为封面,可通过拖拽进行调整)")]),t._v(" "),n("vd",{attrs:{options:{group:"pir"}},model:{value:t.imageUrlList,callback:function(e){t.imageUrlList=e},expression:"imageUrlList"}},t._l(t.imageUrlList,function(t){return n("el-image",{key:t.id,staticClass:"preview-img",attrs:{src:t}})}),1)],1),t._v(" "),n("div",{staticClass:"button-area"},[n("el-upload",{attrs:{action:"","show-file-list":!1,"http-request":t.uploadPir,"on-success":t.handleSuccess,"on-error":t.handleError}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传图片")])],1)],1),t._v(" "),n("div",{staticClass:"preview-area"},[n("i",{staticClass:"el-icon-delete"},[t._v("拖拽至此删除图片")]),t._v(" "),n("vd",{attrs:{options:{group:"pir"}},model:{value:t.deleteList,callback:function(e){t.deleteList=e},expression:"deleteList"}},t._l(t.deleteList,function(t){return n("el-image",{key:t.id,staticClass:"preview-img",attrs:{src:t}})}),1)],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:t.onCancel}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onSave}},[t._v("保存")])],1)]):t._e()],1)],2)},staticRenderFns:[]};var m=n("VU/8")(p,v,!1,function(t){n("a1ul")},"data-v-55d14cbe",null);e.default=m.exports},knN9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("6Whf"),s={render:function(){var t=this.$createElement;return(this._self._c||t)(this.type,{tag:"component",attrs:{cJson:this.cJson}})},staticRenderFns:[]};var a=n("VU/8")({props:["cJson"],data:function(){return{type:""}},beforeMount:function(){this.type=this.cJson.name}},s,!1,function(t){n("Z3er")},"data-v-5a523e0a",null).exports,o=n("u4Bf"),r=n.n(o),c={name:"Jcontainer",mixins:[i.a],components:{AnyType:a,vd:r.a},data:function(){return{name:"Jcontainer",childNodes:[]}},methods:{}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Jdiv",{staticClass:"j-container",class:{"is-focus":this.isFocus&&this.isEditor},style:this.struct.options.style,attrs:{id:this.id}},[e("template",{slot:"input"},this._l(this.childNodes,function(t){return e("AnyType",{key:t.id,attrs:{cJson:t}})}),1)],2)},staticRenderFns:[]};var u=n("VU/8")(c,l,!1,function(t){n("sEWg")},"data-v-7dc95a3a",null);e.default=u.exports},pz0G:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("bOdI"),s=n.n(i),a=n("fZjL"),o=n.n(a),r=n("Dd8w"),c=n.n(r),l=n("6Whf"),u=n("V142"),d=n("uXZL"),f=n.n(d),p={name:"Jtable",mixins:[l.a],data:function(){return{name:"Jtable",sheaders:[],headers:[],dataSource:[],loading:!1}},beforeMount:function(){this.struct.options.dataSource||(this.struct.options.dataSource=[]),this.dataSource=this.copyStruct(),this.changesHeaders(),this.changeHeaders()},methods:{copyStruct:function(){var t=[];return this.struct.options.dataSource.forEach(function(e){t.push(c()({},e))}),t},onCancel:function(){this.configVisible=!1,this.dataSource=this.copyStruct(),this.changeHeaders()},onSave:function(){this.configVisible=!1,this.struct.options.dataSource=this.dataSource,this.dataSource=this.copyStruct(),this.changesHeaders()},deleteRecord:function(t){this.dataSource.splice(t,1)},changeHeaders:function(){var t=this.dataSource;if(t[0]){var e=[];o()(t[0]).forEach(function(t){e.push(t)}),this.headers=e}else this.headers=[]},changesHeaders:function(){var t=this.struct.options.dataSource;if(t[0]){var e=[];o()(t[0]).forEach(function(t){e.push(t)}),this.sheaders=e}else this.sheaders=[]},uploadExcel:function(t){var e=this;try{this.loading=!0;var n=t.file;this.headers=[],this.dataSource=[],this.readExcel(n,function(t){var n=t.Sheets[t.SheetNames[0]];o()(n).forEach(function(t){"!ref"!==t&&("1"===t[1]?e.headers.push(n[t].w):e.dataSource[t[1]-2]?e.dataSource[t[1]-2]&&(e.dataSource[t[1]-2][n[t[0]+"1"].w]=n[t].w):e.dataSource.push(s()({},n[t[0]+"1"].w,n[t].w)))}),e.loading=!1})}catch(t){this.loading=!1,Object(u.a)(t)}},readExcel:function(t,e){var n=this,i=new FileReader;i.onload=function(t){try{var i=t.target.result,s=f.a.read(i,{type:"binary"});e&&e(s)}catch(t){Object(u.a)(t),n.loading=!1}},i.readAsBinaryString(t)}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Jdiv",{staticClass:"j-table",class:{"is-focus":t.isFocus&&t.isEditor},style:t.struct.options.style,attrs:{id:t.id}},[n("template",{slot:"input"},[n("el-table",{attrs:{data:t.struct.options.dataSource}},t._l(t.sheaders,function(t){return n("el-table-column",{key:t.id,attrs:{label:t,prop:t}})}),1),t._v(" "),t.configVisible?n("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{title:"设置表格",visible:t.configVisible},on:{"update:visible":function(e){t.configVisible=e}}},[n("el-table",{attrs:{border:"",data:t.dataSource}},[t._l(t.headers,function(t){return n("el-table-column",{key:t.id,attrs:{prop:t,label:t}})}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small",type:"danger",circle:""},on:{click:function(n){return t.deleteRecord(e.$index,e)}}},[n("i",{staticClass:"el-icon-delete-solid"})])]}}],null,!1,1447307916)})],2),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-upload",{staticStyle:{display:"inline-block"},attrs:{action:"","show-file-list":!1,"http-request":t.uploadExcel}},[n("el-button",{attrs:{type:"text"}},[t._v("上传excel文件")])],1),t._v(" "),n("el-button",{attrs:{size:"small"},on:{click:t.onCancel}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onSave}},[t._v("保存")])],1)],1):t._e()],1)],2)},staticRenderFns:[]};var m=n("VU/8")(p,v,!1,function(t){n("YL+J")},"data-v-0e9dd85a",null);e.default=m.exports},"r6+K":function(t,e){},sEWg:function(t,e){},tvR6:function(t,e){},vCyS:function(t,e){t.exports={Jcontainer:"容器",Jtable:"表格",Jimage:"图片",Jcarousel:"跑马灯",Jmenu:"菜单",Jcard:"卡片"}},xTiN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"Jcarousel",mixins:[n("6Whf").a],data:function(){return{name:"Jcarousel"}},methods:{onSave:function(){},onCancel:function(){}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Jdiv",{staticClass:"j-carousel",class:{"is-focus":t.isFocus&&t.isEditor},style:t.struct.options.style,attrs:{id:t.id}},[n("template",{slot:"input"},[n("el-carousel"),t._v(" "),t.configVisible?n("el-dialog",{attrs:{title:"设置跑马灯",visible:t.configVisible},on:{"update:visible":function(e){t.configVisible=e}}},[n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:t.onCancel}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onSave}},[t._v("保存")])],1)]):t._e()],1)],2)},staticRenderFns:[]};var a=n("VU/8")(i,s,!1,function(t){n("OTf9")},"data-v-2cbe4e28",null);e.default=a.exports},zOA5:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.24d9db15f79d3d70c0cb.js.map