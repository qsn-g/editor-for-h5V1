{"version":3,"sources":["webpack:///src/page/webTable.vue","webpack:///./src/page/webTable.vue?510f","webpack:///./src/page/webTable.vue","webpack:///./src/js/util.js","webpack:///./node_modules/nanoid/index.browser.js"],"names":["webTable","data","webList","uName","loading","beforeMount","this","getPageList","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","Object","ajax","url","sent","forEach","elem","push","extends_default","date","util","mTime","t0","msgBox","stop","newEditor","webInfo","_this2","_callee2","_id","webName","webJson","res","_context2","$router","name","params","updateName","e","_this3","_callee3","after","before","_context3","target","innerText","test","abrupt","webId","deletePage","_this4","_callee4","index","_context4","indexOf","find","item","splice","page_webTable","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","attrs","id","staticClass","type","icon","size","circle","on","click","$event","_v","default-sort","prop","order","label","scopedSlots","_u","key","fn","ref","row","staticStyle","user-select","_s","sortable","scope","contenteditable","dblclick","blur","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","d","timeParser","randomId","getPluginsFromContext","drawWeb","initWeb","cbToWJ","findJson","findFJson","removeFromVuex","jumpTo","__WEBPACK_IMPORTED_MODULE_0_nanoid__","__WEBPACK_IMPORTED_MODULE_0_nanoid___default","n","__WEBPACK_IMPORTED_MODULE_1__vuex__","timestamp","t","Date","getFullYear","getMonth","getDate","getHours","getMinutes","arr","allWebJson","nanoid","context","keys","map","default","componentId","cb","arguments","length","undefined","store","state","childNodes","some","struct","component","$data","options","style","fatherElem","focusElem","componentList","addJson","fatherId","s","cJson","deleteStruct","link","window","open","crypto","self","msCrypto","module","exports","bytes","getRandomValues","Uint8Array"],"mappings":"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","file":"static/js/2.ced2e1603efd3275a549.js","sourcesContent":["<template>\n    <div v-loading=\"loading\" id=\"webTable\">\n        <el-row class=\"buttonList\">\n            <el-button\n                type=\"primary\"\n                icon=\"el-icon-plus\"\n                size=\"medium\"\n                @click=\"newEditor({ webName: '新建编辑' })\"\n                circle\n            ></el-button>\n        </el-row>\n        <el-row class=\"table\">\n            <el-table\n                v-loading=\"loading\"\n                :data=\"webList\"\n                :default-sort=\"{prop: 'date', order: 'descending'}\"\n            >\n                <el-table-column type=\"index\"></el-table-column>\n                <el-table-column label=\"页面id\">\n                    <template slot-scope=\"{row}\">\n                        <span style=\"user-select: text;\">{{ row._id }}</span>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"更新时间\" prop=\"date\" sortable></el-table-column>\n                <el-table-column label=\"网页名称\" sortable>\n                    <template slot-scope=\"scope\">\n                        <label\n                            :contenteditable=\"uName\"\n                            @dblclick=\"() => {uName = true}\"\n                            @blur=\"updateName($event, scope.row)\"\n                        >{{scope.row.webName }}</label>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"操作\">\n                    <template slot-scope=\"scope\">\n                        <el-button\n                            circle\n                            type=\"primary\"\n                            icon=\"el-icon-edit\"\n                            @click=\"newEditor(scope.row)\"\n                        ></el-button>\n                        <el-button\n                            circle\n                            type=\"danger\"\n                            icon=\"el-icon-delete\"\n                            @click=\"deletePage(scope.row._id)\"\n                        ></el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n        </el-row>\n    </div>\n</template>\n\n<script>\nimport { post } from '@/js/ajax';\nimport { timeParser } from '@/js/util';\nimport { sendError, sendSuccess } from '@/js/msgBox';\n\nexport default {\n    data() {\n        return {\n            webList: [],\n            uName: false,\n            loading: false,\n        };\n    },\n    beforeMount() {\n        this.getPageList();\n    },\n    methods: {\n        async getPageList() {\n            this.loading = true;\n            try {\n                const res = await post({\n                    url: '/getPageList',\n                });\n                res.data.forEach((elem) => {\n                    this.webList.push({\n                        ...elem,\n                        date: timeParser(elem.mTime),\n                    });\n                });\n                this.loading = false;\n            } catch (err) {\n                sendError('网络出错');\n                this.loading = false;\n            }\n        },\n        async newEditor(webInfo) {\n            const { _id, webName } = webInfo;\n            let webJson = {};\n            if (_id) {\n                const res = await post({\n                    url: '/getPageData',\n                    data: {\n                        _id,\n                    },\n                });\n                webJson = res.data;\n            }\n            this.loading = true;\n            this.$router.push({\n                name: 'webEditor',\n                params: {\n                    _id,\n                    webName,\n                    webJson,\n                },\n            });\n        },\n        async updateName(e, webInfo) {\n            this.uName = false;\n            try {\n                const after = e.target.innerText;\n                const before = webInfo.webName;\n                if (!/\\S/.test(after)) {\n                    sendError('必须输入字符');\n                    e.target.innerText = before;\n                    return;\n                }\n                if (after === before) return;\n                webInfo.webName = after;\n                const res = await post({\n                    url: '/updateName',\n                    data: {\n                        // eslint-disable-next-line no-underscore-dangle\n                        webId: webInfo._id,\n                        webName: webInfo.webName,\n                    },\n                });\n                sendSuccess(res.data);\n            } catch (err) {\n                sendError(err);\n            }\n        },\n        async deletePage(webId) {\n            const res = await post({\n                url: '/removeWeb',\n                data: {\n                    webId,\n                },\n            });\n            const index = this.webList.indexOf(\n                // eslint-disable-next-line no-underscore-dangle\n                this.webList.find(item => item._id === webId),\n            );\n            this.webList.splice(index, 1);\n            sendSuccess(res.data);\n        },\n    },\n};\n</script>\n\n<style scoped>\n#webTable {\n    display: flex;\n    flex-direction: column;\n}\n.buttonList .el-button {\n    margin: 10px 0px 10px 15px;\n}\n.el-table {\n    font-family: Arial, Helvetica, sans-serif;\n    color: #909399;\n    font-size: 13px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/webTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"webTable\"}},[_c('el-row',{staticClass:\"buttonList\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"size\":\"medium\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.newEditor({ webName: '新建编辑' })}}})],1),_vm._v(\" \"),_c('el-row',{staticClass:\"table\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.webList,\"default-sort\":{prop: 'date', order: 'descending'}}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"页面id\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',{staticStyle:{\"user-select\":\"text\"}},[_vm._v(_vm._s(row._id))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"更新时间\",\"prop\":\"date\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"网页名称\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('label',{attrs:{\"contenteditable\":_vm.uName},on:{\"dblclick\":function () {_vm.uName = true},\"blur\":function($event){return _vm.updateName($event, scope.row)}}},[_vm._v(_vm._s(scope.row.webName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"circle\":\"\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.newEditor(scope.row)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"circle\":\"\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deletePage(scope.row._id)}}})]}}])})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-41197c73\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/webTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-41197c73\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webTable.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./webTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./webTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-41197c73\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./webTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-41197c73\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/webTable.vue\n// module id = null\n// module chunks = ","/* eslint-disable consistent-return */\nimport nanoid from 'nanoid';\nimport store from './vuex';\n/**\n * 时间戳转为 年-月-日 xx:xx\n * @param {*} timestamp\n */\nconst timeParser = (timestamp) => {\n    const t = new Date(timestamp);\n    return `${t.getFullYear()}年${t.getMonth() + 1}月${t.getDate()}日 ${t.getHours()}:${t.getMinutes() >= 10 ? t.getMinutes() : `0${t.getMinutes()}`}`;\n};\n\n/**\n * 随机生成组件的id\n * @param {*} arr\n */\nconst randomId = (arr) => {\n    const allWebJson = arr || [];\n    let res = nanoid();\n    const r = allWebJson.find(item => item.id === res);\n    if (r) {\n        res = randomId(arr);\n    }\n    return res;\n};\n/**\n * 获取plugins目录下的所有组件\n * @param {*} context\n */\nconst getPluginsFromContext = (context) => {\n    const res = {};\n    context\n        .keys()\n        .map(context)\n        .forEach((a) => {\n            res[a.default.name] = a.default;\n        });\n    return res;\n};\n/**\n * 增加子组件json\n * @param {*} webJson store中的webJson\n * @param {*} fatherId 在该json结构下childNodes里增加struct\n * @param {*} struct 子组件结构\n */\nconst addJson = (webJson, fatherId, struct) => {\n    if (webJson.id === fatherId) {\n        webJson.childNodes.push(struct);\n        return true;\n    }\n    if (webJson.childNodes) webJson.childNodes.some(item => addJson(item, fatherId, struct));\n};\n/**\n * 查找目标组件id的json结构并执行cb函数\n * @param {*} componentId 组件id\n * @param {*} cb 回调函数\n * @param {*} webJson store中的webJson\n */\nconst findJson = (componentId, cb, webJson = store.state.webJson) => {\n    if (webJson.id === componentId) {\n        cb(webJson);\n        return true;\n    }\n    if (webJson.childNodes) webJson.childNodes.some(item => findJson(componentId, cb, item));\n};\n/**\n * 查找目标组件id的父组件json结构并执行cb函数\n * @param {*} componentId 组件id\n * @param {*} cb 回调函数\n * @param {*} webJson store中的webJson\n */\nconst findFJson = (componentId, cb, webJson = store.state.webJson) => {\n    if (webJson.childNodes && webJson.childNodes.some(item => item.id === componentId)) {\n        cb(webJson);\n        return true;\n    }\n    if (webJson.childNodes) webJson.childNodes.some(item => findFJson(componentId, cb, item));\n};\n/**\n * mixins中若有结构需要重绘\n * @param {*} struct\n * @param {*} component\n */\nconst drawWeb = (struct, component) => {\n    component.$data.struct = struct;\n};\n/**\n * mixins中若没有结构需要初始化（如添加新组件）\n * @param {*} component\n */\nconst initWeb = (component) => {\n    const struct = {\n        name: component.name,\n        id: component.id,\n        options: {\n            style: {},\n        },\n    };\n    if (component.name === 'Jcontainer') struct.childNodes = [];\n    return struct;\n};\n/**\n * 添加新组件时需要对store中的webJson添加结构\n * @param {*} struct\n */\nconst cbToWJ = (struct) => {\n    const webJson = store.state.webJson;\n    if (webJson.id) {\n        const fatherElem = store.state.focusElem;\n        const componentList = store.state.componentList;\n        addJson(store.state.webJson, fatherElem.id, struct);\n        findFJson(struct.id, (s) => {\n            s.childNodes.some((item, index) => {\n                if (!item.id) {\n                    s.childNodes.splice(index, 1);\n                    return true;\n                }\n                return false;\n            });\n        });\n        componentList.some((item, index) => {\n            if (!item.cJson.id) {\n                componentList.splice(index, 1);\n                return true;\n            }\n            return false;\n        });\n    } else {\n        store.state.webJson = struct;\n    }\n};\n/**\n * 删除一个组件后也要将其从store里面的componentList删除\n * @param {*} deleteStruct\n */\nconst removeFromVuex = (deleteStruct) => {\n    if (deleteStruct.childNodes) {\n        deleteStruct.childNodes.forEach((item) => {\n            removeFromVuex(item);\n        });\n    }\n    const componentList = store.state.componentList;\n    componentList.some((item, index) => {\n        if (item.id === deleteStruct.id) {\n            componentList.splice(index, 1);\n            return true;\n        }\n        return false;\n    });\n};\n\nconst jumpTo = (link) => {\n    window.open(link);\n};\nexport { timeParser, randomId, getPluginsFromContext, drawWeb, initWeb, cbToWJ, findJson, findFJson, removeFromVuex, jumpTo };\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/util.js","if (process.env.NODE_ENV !== 'production') {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n      'If you don’t need unpredictable IDs, you can use `nanoid/non-secure`. ' +\n      'For secure ID install `expo-random` locally and use `nanoid/async`.'\n    )\n  }\n  if (typeof self === 'undefined' || (!self.crypto && !self.msCrypto)) {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n      'If you don’t need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nvar crypto = self.crypto || self.msCrypto\n\n/*\n * This alphabet uses a-z A-Z 0-9 _- symbols.\n * Symbols order was changed for better gzip compression.\n */\nvar url = 'Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-'\n\nmodule.exports = function (size) {\n  size = size || 21\n  var id = ''\n  var bytes = crypto.getRandomValues(new Uint8Array(size))\n  while (0 < size--) {\n    id += url[bytes[size] & 63]\n  }\n  return id\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/nanoid/index.browser.js\n// module id = NfQX\n// module chunks = 1 2"],"sourceRoot":""}